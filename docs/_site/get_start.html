<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="icon" type="image/png"  href="assets/img/favicon.png">
    <title>RSOME in Python by XiongPengNUS</title>

    <link rel="stylesheet" href="/assets/css/styles.css?v=1133c49022053655fa92e79972cc63c5f2737f41">
    <meta name="viewport" content="width=device-width">

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>

        
          <img src="/rso_left.png" alt="Logo" width=180/>
        

        <h1>RSOME in Python</h1>

        <table>
          <tr>
          <td><a class="github-button" href="https://github.com/XiongPengNUS/road" data-show-count="true" aria-label="Star XiongPengNUS/road on GitHub">Star</a></td>
          <td><a class="github-button" href="https://github.com/XiongPengNUS/road/subscription" data-show-count="true" aria-label="Watch XiongPengNUS/road on GitHub">Watch</a></td>
          <td><a class="github-button" href="https://github.com/XiongPengNUS/road/fork" data-show-count="true" aria-label="Fork XiongPengNUS/road on GitHub">Fork</a></td>
          </tr>
        </table>

        <table>
          
            
              <tr><th><a href="/">Home</a></th></tr>
            
          
            
              <tr><th><a href="/user_guide">User Guide</a></th></tr>
            
          
            
              <tr><th><a href="/examples">Examples</a></th></tr>
            
          
            
              <tr><th><a href="/about">About</a></th></tr>
            
          
        </table>

        
          <ul>
            <li><a href="https://github.com/XiongPengNUS/rsome/zipball/gh-pages">Download <strong>ZIP File</strong></a></li>
            <li><a href="https://github.com/XiongPengNUS/rsome/tarball/gh-pages">Download <strong>TAR Ball</strong></a></li>
            <li><a href="https://github.com/XiongPengNUS/rsome">View On <strong>GitHub</strong></a></li>
          </ul>
        

      </header>
      <section>

      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<h1 id="getting-started">Getting Started</h1>

<p>RSOME is an open-source algebraic library for modeling generic optimization problems under uncertainty. It provides highly readable and mathematically intuitive modeling environment based on the state-of-the-art robust stochastic optimization framework.</p>

<p>This guide introduces the main components, basic data structures, and syntax rules of the RSOME package. For installations, please refer to our <a href="index">Home Page</a> for more information.</p>

<h2 id="modeling-environments-">Modeling Environments <a name="section1.1"></a></h2>

<p>The RSOME package provides the following two modules for formulating optimization problems under uncertainty:</p>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">ro</code> module is a tailored modeling framework for robust optimization problems. This module provides modeling tools designed specifically for constructing uncertainty sets and specifying affine decision rules in multi-stage decision-making applications.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">dro</code> module is built upon the distributionally robust optimization framework proposed in <a href="#ref1">Chen et al. (2020)</a>. Modeling tools are provided for constructing event-wise ambiguity sets and specifying event-wise adaptation policies.</p>
  </li>
</ul>

<p>These two modeling frameworks follow consistent syntax in defining variables, objective functions, and constraints. The only differences are in specifying recourse adaptations and uncertainty/ambiguity sets. Notice that the <code class="language-plaintext highlighter-rouge">dro</code> module is a more general modeling framework, since a classic robust optimization problem can be treated as a special case of distributionally robust optimization, where the ambiguity set, specifying only the support information, reduces to an uncertainty set. The <code class="language-plaintext highlighter-rouge">ro</code> module is less general but the toolkit enables users to formulate uncertainty sets and decision adaptations in a more concise and intuitive manner.</p>

<p>In this section, we will use the <code class="language-plaintext highlighter-rouge">ro</code> module as a general modeling environment for deterministic problems. Guidelines of robust and distributionally robust optimization problems are presented in <a href="ro_rsome">RSOME for robust optimization</a> and <a href="dro_rsome">RSOME for distributionally robust optimization</a>, respectively.</p>

<h2 id="introduction-to-the-rsomero-environment-">Introduction to the <code class="language-plaintext highlighter-rouge">rsome.ro</code> Environment <a name="section1.2"></a></h2>

<h3 id="models">Models</h3>

<p>In RSOME, all optimization models are specified based on a <code class="language-plaintext highlighter-rouge">Model</code> type object. Such an object is created by the constructor <code class="language-plaintext highlighter-rouge">Model()</code> imported from the <code class="language-plaintext highlighter-rouge">rsome.ro</code> modeling environment.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">ro</span>            <span class="c1"># import the ro modeling tool
</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ro</span><span class="p">.</span><span class="n">Model</span><span class="p">(</span><span class="s">'My model'</span><span class="p">)</span>    <span class="c1"># create a Model object
</span></code></pre></div></div>

<p>The code above defines a new <code class="language-plaintext highlighter-rouge">Model</code> object <code class="language-plaintext highlighter-rouge">model</code>, with the name specified to be <code class="language-plaintext highlighter-rouge">'My model'</code>. You could also leave the name unspecified and the default name is <code class="language-plaintext highlighter-rouge">None</code>.</p>

<h3 id="decision-variables-and-linear-constraints">Decision Variables and Linear Constraints</h3>

<p>Decision variables of a model can be defined by the method <code class="language-plaintext highlighter-rouge">dvar()</code>.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dvar(self, shape=(), vtype='C', name=None, aux=False)
    Returns an array of decision variables with the given shape
    and variable type.
    
    Parameters
    ----------
    shape : int or tuple
        Shape of the variable array. The variable is a scalar if
        the shape is unspecified.
    vtype : {'C', 'B', 'I'}
        Type of the decision variables. 'C' means continuous; 'B'
        means binary, and 'I" means integer.
    name : str
        Name of the variable array
    aux : leave it unspecified.
    
    Returns
    -------
    new_var : rsome.lp.Vars
        An array of new decision variables
</code></pre></div></div>

<p>Variables in RSOME can be formatted as N-dimensional arrays, which are consistent with the widely used NumPy arrays in the definition of dimensions, shapes, and sizes. Users could use the <code class="language-plaintext highlighter-rouge">dvar()</code> method of the <code class="language-plaintext highlighter-rouge">Model</code> object to specify the shape and type (<code class="language-plaintext highlighter-rouge">'C'</code> for continuous, <code class="language-plaintext highlighter-rouge">'B'</code> for binary, and <code class="language-plaintext highlighter-rouge">'I'</code> for general integer) of the decision variable array, as shown by the following examples.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">vtype</span><span class="o">=</span><span class="s">'I'</span><span class="p">)</span>    <span class="c1"># 3 integer variables as a 1D array
</span><span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="s">'B'</span><span class="p">)</span>     <span class="c1"># 3x5 binary variables as a 2D array
</span><span class="n">z</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>    <span class="c1"># 2x3x4x5 continuous variables as a 4D array
</span></code></pre></div></div>

<p>RSOME variables are also compatible with the standard NumPy array operations, such as element-wise computation, matrix calculation rules, broadcasting, indexing and slicing, etc. It thus enables users to define blocks of constraints with the array system. For example, the constraint system</p>

\[\begin{align}
&amp;\sum\limits_{i\in[I]}b_ix_i = 1 &amp;&amp; \\
&amp;\sum\limits_{i\in[I]}A_{ji}x_i \leq c_j &amp;&amp; j\in[J] \\
&amp;\sum\limits_{j\in[J]}\sum\limits_{i\in I}y_{ji} \geq 1 &amp;&amp;\\
&amp;\sum\limits_{i\in[I]}y_{ji} \geq 0 &amp;&amp; j\in [J] \\
&amp;A_{ji}x_i \geq 1 &amp;&amp;\forall j\in[J], i\in[I] \\
&amp;A_{ji}y_{ji} + x_i \geq 0 &amp;&amp; \forall j\in [J], i\in[I]
\end{align}\]

<p>with decision variable \(\pmb{x}\in\mathbb{R}^I\) and \(\pmb{y}\in\mathbb{R}^{J\times I}\), as well as parameters \(\pmb{A}\in\mathbb{R}^{J\times I}\), \(\pmb{b}\in\mathbb{R}^I\), and \(\pmb{c}\in\mathbb{R}^J\), can be conveniently specified by the code segment below.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>               <span class="c1"># define x as a 1D array of I variables
</span><span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">J</span><span class="p">,</span> <span class="n">I</span><span class="p">))</span>          <span class="c1"># define y as a 2D array of JxI variables
</span>
<span class="n">b</span> <span class="o">@</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span>                      
<span class="n">A</span> <span class="o">@</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">c</span>
<span class="n">y</span><span class="p">.</span><span class="nb">sum</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">1</span>
<span class="n">y</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">A</span> <span class="o">*</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">1</span>
<span class="n">A</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span>
</code></pre></div></div>

<p>RSOME arrays can also be used in specifying the objective function of the optimization model. Note that the objective function must be one affine expression. In other words, the <code class="language-plaintext highlighter-rouge">size</code> attribute of the expression must be one, otherwise an error message would be generated.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">b</span> <span class="o">@</span> <span class="n">x</span><span class="p">)</span>        <span class="c1"># minimize the objective function b @ x
</span><span class="n">model</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">b</span> <span class="o">@</span> <span class="n">x</span><span class="p">)</span>        <span class="c1"># maximize the objective function b @ x
</span></code></pre></div></div>

<p>Model constraints can be specified by the method <code class="language-plaintext highlighter-rouge">st()</code>, which means “subject to”. This method allows users to define their constraints in different ways.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">A</span> <span class="o">@</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">c</span><span class="p">)</span>                    <span class="c1"># define one constraint
</span>
<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">y</span><span class="p">.</span><span class="nb">sum</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span>
         <span class="n">y</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span>
         <span class="n">A</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>                  <span class="c1"># define multiple constraints
</span>
<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>   <span class="c1"># define constraints by a loop
</span></code></pre></div></div>

<h3 id="convex-expressions-and-convex-constraints">Convex Expressions and Convex Constraints</h3>

<p>The RSOME package also supports several functions for specifying convex expressions and constraints. The definition and syntax of these functions are also similar to the NumPy package, see the tables below.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Convex Function</th>
      <th style="text-align: left">Output                                      </th>
      <th style="text-align: left">Remarks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">abs(x)</code></td>
      <td style="text-align: left">The element-wise absolute values of <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">entropy(x)</code></td>
      <td style="text-align: left">The entropic expression <code class="language-plaintext highlighter-rouge">-sum(x * log(x))</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> must be a vector.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">exp(x)</code></td>
      <td style="text-align: left">The element-wise natural exponential of <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">log(x)</code></td>
      <td style="text-align: left">The element-wise natural logarithm of <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">norm(x, degree)</code></td>
      <td style="text-align: left">The norm of the <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> must be a vector. <code class="language-plaintext highlighter-rouge">degree</code> can be 1, 2, or <code class="language-plaintext highlighter-rouge">numpy.inf</code>. The default value is <code class="language-plaintext highlighter-rouge">degree=2</code>, indicating an Euclidean norm.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">pexp(x, y)</code></td>
      <td style="text-align: left">The element-wise perspective natural exponential <code class="language-plaintext highlighter-rouge">y * exp(x/y)</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">plog(x, y)</code></td>
      <td style="text-align: left">The element-wise perspective natural logarithm <code class="language-plaintext highlighter-rouge">y * log(x/y)</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">quad(x, Q)</code></td>
      <td style="text-align: left">The quadratic term <code class="language-plaintext highlighter-rouge">x @ Q @ x</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> must be a 1-D array, and <code class="language-plaintext highlighter-rouge">Q</code> must be a positive semidefinite matrix (2-D array).</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">square(x)</code></td>
      <td style="text-align: left">The element-wise squared values of <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">sumsqr(x)</code></td>
      <td style="text-align: left">The sum of squares of <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> must be a vector.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Convex Constraints</th>
      <th style="text-align: left">Output</th>
      <th style="text-align: left">Remarks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">expcone(x, y, z)</code></td>
      <td style="text-align: left">The exponential cone constraint <code class="language-plaintext highlighter-rouge">z * exp(x/z) &lt;= y</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">z</code> must be scalars.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">kldiv(p, q, r)</code></td>
      <td style="text-align: left">The KL divergence constraint <code class="language-plaintext highlighter-rouge">sum(p*log(p/q)) &lt;= r</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">p</code> and <code class="language-plaintext highlighter-rouge">q</code> are vectors,<br />and <code class="language-plaintext highlighter-rouge">r</code> is a scalar.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">rsocone(x, y, z)</code></td>
      <td style="text-align: left">The rotated conic constraint <code class="language-plaintext highlighter-rouge">sumsqr(x) &lt;= y*z</code>.</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">x</code> must be a vector.</td>
    </tr>
  </tbody>
</table>

<p>Examples of specifying convex constraints are provided below.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">rsome</span> <span class="k">as</span> <span class="n">rso</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">ro</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">inf</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ro</span><span class="p">.</span><span class="n">Model</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>                       <span class="c1"># define x as a 1D array of I variables
</span><span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">J</span><span class="p">,</span> <span class="n">I</span><span class="p">))</span>                  <span class="c1"># define y as a 2D array of JxI variables
</span><span class="n">z</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">()</span>                        <span class="c1"># define z as a scalar variable
</span>
<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1"># constraints with absolute terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">sumsqr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span>           <span class="c1"># a constraint with sum of squares
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">square</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">)</span>            <span class="c1"># constraints with squared terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">y</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>        <span class="c1"># a constraint with 2-norm terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>     <span class="c1"># a constraint with 1-norm terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inf</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>      <span class="c1"># a constraint with infinity norm
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">quad</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># a constraint with a quadratic term
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">rsocone</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">z</span><span class="p">))</span>    <span class="c1"># a constraint with a rotated second-order cone
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">expcone</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.5</span><span class="p">))</span>     <span class="c1"># an exponential cone constraint
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">3.5</span><span class="p">)</span>             <span class="c1"># constraints with exponential terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mf">1.2</span><span class="p">)</span>             <span class="c1"># constraints with logarithm terms
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">entropy</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>        <span class="c1"># constraints with entropy expressions
</span><span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">kldiv</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">I</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">))</span>       <span class="c1"># a KL divergence constraint
</span></code></pre></div></div>

<p>Note that all functions above can only be used in constructing convex constraints, so convex functions cannot be applied in equality constraints, and they cannot be used for concave inequalities, such as <code class="language-plaintext highlighter-rouge">abs(x) &gt;= 2</code> is invalid and gives an error message.</p>

<h3 id="matrix-operation-functions">Matrix Operation Functions</h3>

<p>In dealing with matrices (2-D arrays), RSOME supports basic operations like calculating the trace, retrieving the diagonal and upper/lower triangular elements, and concatenating arrays.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Matrix Operations </th>
      <th style="text-align: left">Output</th>
      <th style="text-align: left">Remarks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">concat(arrays, axis)</code></td>
      <td style="text-align: left">Concatenated arrays</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">arrays</code> is a collection of arrays to be conca-<br />tenated, and <code class="language-plaintext highlighter-rouge">axis</code> specifies the axis along<br />which the arrays will be joined.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cstack(c1, ..., cn)</code></td>
      <td style="text-align: left">An array formed by stacking the<br />given arrays along axis 1.</td>
      <td style="text-align: left">If a given argument <code class="language-plaintext highlighter-rouge">c1, ..., cn</code> is a list of<br />arrays, they will be stacked first along axis 0.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">diag(x, k, fill)</code></td>
      <td style="text-align: left">The diagonal elements of a 2-D<br />array <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left">The integer <code class="language-plaintext highlighter-rouge">k</code> (<code class="language-plaintext highlighter-rouge">k=0</code> by default) specifies the<br />shifts of the taken diagonal elements. The<br />boolean value <code class="language-plaintext highlighter-rouge">fill</code> (<code class="language-plaintext highlighter-rouge">fill=False</code> by default)<br />specifies if the non-diagonal elements are<br />filled with zeros.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">rstack(r1, ..., rn)</code></td>
      <td style="text-align: left">An array formed by stacking the<br />given arrays along axis 0.</td>
      <td style="text-align: left">If a given argument <code class="language-plaintext highlighter-rouge">r1, ..., rn</code> is a list of<br />arrays, they will be stacked first along axis 1.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">trace(x)</code></td>
      <td style="text-align: left">The trace of a 2-D array <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">tril(x, k)</code></td>
      <td style="text-align: left">The lower triangular elements of a<br />2-D array <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left">The integer <code class="language-plaintext highlighter-rouge">k</code> (<code class="language-plaintext highlighter-rouge">k=0</code> by default) specifies the<br />shifts of the taken triangular elements.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">triu(x, k)</code></td>
      <td style="text-align: left">The upper triangular elements of a<br />2-D array <code class="language-plaintext highlighter-rouge">x</code>.</td>
      <td style="text-align: left">The integer <code class="language-plaintext highlighter-rouge">k</code> (<code class="language-plaintext highlighter-rouge">k=0</code> by default) specifies the<br />shifts of the taken triangular elements.</td>
    </tr>
  </tbody>
</table>

<p>RSOME also supports defining semidefiniteness constraints that enforce an array <code class="language-plaintext highlighter-rouge">X</code> to be positive semidefinite (<code class="language-plaintext highlighter-rouge">X &gt;&gt; 0</code>) or negative semidefinite (<code class="language-plaintext highlighter-rouge">X &lt;&lt; 0</code>). For instance, the constraint</p>

\[\left(
\begin{array}{cc}
A &amp; Z \\
Z^{\top} &amp; \text{diag}(Z)
\end{array}
\right) \succeq 0\]

<p>with \(A\in\mathbb{R}^{n\times n}\) and \(Z\) being a lower triangular matrix, can be written as the following Python code,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">rsome</span> <span class="k">as</span> <span class="n">rso</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">ro</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ro</span><span class="p">.</span><span class="n">Model</span><span class="p">()</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">rso</span><span class="p">.</span><span class="n">tril</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">)))</span>

<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">rstack</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">Z</span><span class="p">],</span> 
                    <span class="p">[</span><span class="n">Z</span><span class="p">.</span><span class="n">T</span><span class="p">,</span> <span class="n">rso</span><span class="p">.</span><span class="n">diag</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">True</span><span class="p">)])</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>or equivalently,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">rsome</span> <span class="k">as</span> <span class="n">rso</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">ro</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ro</span><span class="p">.</span><span class="n">Model</span><span class="p">()</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">rso</span><span class="p">.</span><span class="n">tril</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">)))</span>

<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">cstack</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">Z</span><span class="p">.</span><span class="n">T</span><span class="p">],</span> 
                    <span class="p">[</span><span class="n">Z</span><span class="p">,</span> <span class="n">rso</span><span class="p">.</span><span class="n">diag</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">True</span><span class="p">)])</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>In this example, the <code class="language-plaintext highlighter-rouge">T</code> attribute of an RSOME array is consistent with the transpose operations of NumPy arrays. Functions <code class="language-plaintext highlighter-rouge">rstack()</code> and <code class="language-plaintext highlighter-rouge">cstack()</code> are used to create new arrays by stacking rows (along axis 0) or columns (along axis 1) together, respectively.</p>

<h2 id="standard-forms-and-solutions-">Standard Forms and Solutions <a name="section1.3"></a></h2>

<p>All RSOME models are transformed into their standard forms, which are then solved via the solver interface. The standard form can be retrieved by the <code class="language-plaintext highlighter-rouge">do_math()</code> method of the model object.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>do_math(self, primal=True)
    Return the linear, or conic programming problem as the standard
    formula or deterministic counterpart of the model.
    
    Parameters
    ----------
    primal : bool, default True
        Specify whether return the primal formula of the model.
        If primal=False, the method returns the dual formula.
    
    Returns
    -------
    prog : GCProg
        A conic programming problem.
</code></pre></div></div>

<p>You may use the <code class="language-plaintext highlighter-rouge">do_math()</code> method together with the <code class="language-plaintext highlighter-rouge">show()</code> method to display important information on the standard form, <i>i.e.</i>, the coefficients of the objective function and constraints, variable bounds and types.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">ro</span>
<span class="kn">import</span> <span class="nn">rsome</span> <span class="k">as</span> <span class="n">rso</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>


<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ro</span><span class="p">.</span><span class="n">Model</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">dvar</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="n">model</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">c</span> <span class="o">@</span> <span class="n">x</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">st</span><span class="p">(</span><span class="n">rso</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">primal</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">do_math</span><span class="p">()</span>            <span class="c1"># standard form of the primal problem
</span><span class="n">dual</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">do_math</span><span class="p">(</span><span class="n">primal</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># standard form of the dual problem
</span></code></pre></div></div>

<p>The variables <code class="language-plaintext highlighter-rouge">primal</code> and <code class="language-plaintext highlighter-rouge">dual</code> represent the standard forms of the primal and dual problems, respectively.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">primal</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Conic program object:
=============================================
Number of variables:           8
Continuous/binaries/integers:  8/0/0
---------------------------------------------
Number of linear constraints:  5
Inequalities/equalities:       2/3
Number of coefficients:        11
---------------------------------------------
Number of SOC constraints:     1
---------------------------------------------
Number of ExpCone constraints: 0
---------------------------------------------
Number of PSCone constraints:  0
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dual</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Conic program object:
=============================================
Number of variables:           5
Continuous/binaries/integers:  5/0/0
---------------------------------------------
Number of linear constraints:  4
Inequalities/equalities:       0/4
Number of coefficients:        7
---------------------------------------------
Number of SOC constraints:     1
---------------------------------------------
Number of ExpCone constraints: 0
---------------------------------------------
Number of PSCone constraints:  0
</code></pre></div></div>

<p>More details on the standard forms can be retrieved by the method <code class="language-plaintext highlighter-rouge">show()</code>, and the problem information is summarized in a <code class="language-plaintext highlighter-rouge">pandas.DataFrame</code> data table.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">primal</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x1</th>
      <th>x2</th>
      <th>x3</th>
      <th>x4</th>
      <th>x5</th>
      <th>x6</th>
      <th>x7</th>
      <th>x8</th>
      <th>sense</th>
      <th>constant</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Obj</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>LC1</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>==</td>
      <td>-0</td>
    </tr>
    <tr>
      <th>LC2</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1</td>
      <td>0</td>
      <td>0</td>
      <td>==</td>
      <td>-0</td>
    </tr>
    <tr>
      <th>LC3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1</td>
      <td>0</td>
      <td>==</td>
      <td>-0</td>
    </tr>
    <tr>
      <th>LC4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>==</td>
      <td>1</td>
    </tr>
    <tr>
      <th>LC5</th>
      <td>-1</td>
      <td>-1.624345</td>
      <td>0.611756</td>
      <td>0.528172</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>&lt;=</td>
      <td>0</td>
    </tr>
    <tr>
      <th>QC1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>-1</td>
      <td>&lt;=</td>
      <td>0</td>
    </tr>
    <tr>
      <th>UB</th>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>LB</th>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>0</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>Type</th>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dual</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x1</th>
      <th>x2</th>
      <th>x3</th>
      <th>x4</th>
      <th>x5</th>
      <th>sense</th>
      <th>constant</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Obj</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1</td>
      <td>-0</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>LC1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1</td>
      <td>==</td>
      <td>1</td>
    </tr>
    <tr>
      <th>LC2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1.624345</td>
      <td>==</td>
      <td>1</td>
    </tr>
    <tr>
      <th>LC3</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.611756</td>
      <td>==</td>
      <td>1</td>
    </tr>
    <tr>
      <th>LC4</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0.528172</td>
      <td>==</td>
      <td>1</td>
    </tr>
    <tr>
      <th>QC1</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>-1</td>
      <td>0</td>
      <td>&lt;=</td>
      <td>0</td>
    </tr>
    <tr>
      <th>UB</th>
      <td>inf</td>
      <td>inf</td>
      <td>inf</td>
      <td>0</td>
      <td>0</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>LB</th>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-inf</td>
      <td>-</td>
      <td>-</td>
    </tr>
    <tr>
      <th>Type</th>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>C</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>
</div>

<p>Besides being returned as a <code class="language-plaintext highlighter-rouge">pandas.DataFrame</code> data table, the standard form can also be saved as a <code class="language-plaintext highlighter-rouge">.lp</code> file using the <code class="language-plaintext highlighter-rouge">to_lp()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>to_lp(name='out')
Export the standard form of the optimization model as a .lp file.

    Parameters
    ----------
    name : file name of the .lp file

    Notes
    -----
    There is no need to specify the .lp extension. The default file name
    is "out".
</code></pre></div></div>

<p>The code segment below exports the standard form of the model as a file named “model.lp”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">do_math</span><span class="p">().</span><span class="n">to_lp</span><span class="p">(</span><span class="s">'model'</span><span class="p">)</span>
</code></pre></div></div>

<p>The standard form of a model can be solved via calling the <code class="language-plaintext highlighter-rouge">solve()</code> method of the model object. Arguments of the <code class="language-plaintext highlighter-rouge">solve()</code> method are listed below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>solve(self, solver=None, display=True, log=False, params={})
    Solve the model with the selected solver interface.
    
    Parameters
    ----------
    solver : {None, lpg_solver, clp_solver, ort_solver, eco_solver
              cpx_solver, grb_solver, msk_solver, cpt_solver}
        Solver interface used for model solution. Use the default
        solver if solver=None.
    display : bool
        True for displaying the solution information. False for hiding
        the solution information.
    log : bool
        True for printing the log information. False for hiding the log
        information. So far the argument only applies to Gurobi, CPLEX,
        and Mosek.
    params : dict
        A dictionary that specifies parameters of the selected solver.
        So far the argument only applies to Gurobi, CPLEX, and Mosek.
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">solve()</code> method calls for external solvers to solve the optimization problem. The first argument <code class="language-plaintext highlighter-rouge">solver</code> is used to specify the selected solver interface. If the solver is unspecified, the default solver imported from the the <code class="language-plaintext highlighter-rouge">scipy.optimize</code> is used to solve the RSOME model. Other open-source and commercial solvers can also be used in RSOME. Details of the interfaces for calling these external solvers are presented in the table below.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Solver</th>
      <th style="text-align: left">License  type</th>
      <th style="text-align: left">Required version</th>
      <th style="text-align: left">RSOME interface</th>
      <th style="text-align: left">Second-order cone constraints</th>
      <th style="text-align: left">Exponential cone constraints</th>
      <th style="text-align: left">Semidefiniteness constraints</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="https://docs.scipy.org/doc/scipy/reference/optimize.html">scipy.optimize</a></td>
      <td style="text-align: left">Open-source</td>
      <td style="text-align: left">&gt;= 1.9.0</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">lpg_solver</code></td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://github.com/coin-or/cylp">CyLP</a></td>
      <td style="text-align: left">Open-source</td>
      <td style="text-align: left">&gt;= 0.9.0</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">clp_solver</code></td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://developers.google.com/optimization/install">OR-Tools</a></td>
      <td style="text-align: left">Open-source</td>
      <td style="text-align: left">&gt;= 7.5.7466</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">ort_solver</code></td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://github.com/embotech/ecos-python">ECOS</a></td>
      <td style="text-align: left">Open-source</td>
      <td style="text-align: left">&gt;= 2.0.10</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">eco_solver</code></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://www.gurobi.com/documentation/9.0/quickstart_mac/ins_the_anaconda_python_di.html">Gurobi</a></td>
      <td style="text-align: left">Commercial</td>
      <td style="text-align: left">&gt;= 9.1.0</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">grb_solver</code></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://docs.mosek.com/9.2/pythonapi/install-interface.html">Mosek</a></td>
      <td style="text-align: left">Commercial</td>
      <td style="text-align: left">&gt;= 10.0.44</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">msk_solver</code></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">Yes</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://www.ibm.com/support/knowledgecenter/en/SSSA5P_12.8.0/ilog.odms.cplex.help/CPLEX/GettingStarted/topics/set_up/Python_setup.html">CPLEX</a></td>
      <td style="text-align: left">Commercial</td>
      <td style="text-align: left">&gt;= 12.9.0.0</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cpx_solver</code></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="https://www.shanshu.ai/copt">COPT</a></td>
      <td style="text-align: left">Commercial</td>
      <td style="text-align: left">&gt;= 6.5.3</td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">cpt_solver</code></td>
      <td style="text-align: left">Yes</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">No</td>
    </tr>
  </tbody>
</table>

<p>The model above involves second-order cone constraints, so we could use ECOS, Gurobi, Mosek, CPLEX, or COPT to solve it. The interfaces for these solvers are imported by the following commands.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">eco_solver</span> <span class="k">as</span> <span class="n">eco</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">grb_solver</span> <span class="k">as</span> <span class="n">grb</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">msk_solver</span> <span class="k">as</span> <span class="n">msk</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">cpx_solver</span> <span class="k">as</span> <span class="n">cpx</span>
<span class="kn">from</span> <span class="nn">rsome</span> <span class="kn">import</span> <span class="n">cpt_solver</span> <span class="k">as</span> <span class="n">cpt</span>
</code></pre></div></div>

<p>The interfaces can be then used to attain the solution.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">eco</span><span class="p">)</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Being solved by ECOS...
Solution status: Optimal solution found
Running time: 0.0003s
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">grb</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Being solved by Gurobi...
Solution status: 2
Running time: 0.0009s
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">msk</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Being solved by Mosek...
Solution status: Optimal
Running time: 0.0230s
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">cpx</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Being solved by CPLEX...
Solution status: optimal
Running time: 0.0135s
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">cpt</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cardinal Optimizer v6.5.3. Build date Apr 28 2023
Copyright Cardinal Operations 2023. All Rights Reserved

Being solved by COPT...
Solution status: 1
Running time: 0.0028s
</code></pre></div></div>

<p>It can be seen that as the model is solved, a three-line message is displayed in terms of 1) the solver used for solving the model; 2) the solution status; and 3) the solution time. This three-line message can be disabled by specifying the second argument <code class="language-plaintext highlighter-rouge">display</code> to be <code class="language-plaintext highlighter-rouge">False</code>.</p>

<p>The third argument <code class="language-plaintext highlighter-rouge">params</code> is used to tune solver parameters. The current RSOME package enables users to adjust parameters for Gurobi, MOSEK, and CPLEX. The <code class="language-plaintext highlighter-rouge">params</code> argument is a <code class="language-plaintext highlighter-rouge">dict</code> type object in the format of <code class="language-plaintext highlighter-rouge">{&lt;param1&gt;: &lt;value1&gt;, &lt;param2&gt;: &lt;value2&gt;, &lt;param3&gt;: &lt;value3&gt;, ..., &lt;paramk&gt;: &lt;valuek&gt;}</code>. Information on solver parameters and their valid values are provided below. Please make sure that you are specifying parameters with the correct data type, otherwise error messages might be raised.</p>
<ul>
  <li>Gurobi parameters: <a href="https://www.gurobi.com/documentation/9.1/refman/parameters.html">https://www.gurobi.com/documentation/9.1/refman/parameters.html</a></li>
  <li>MOSEK parameters: <a href="https://docs.mosek.com/latest/pythonfusion/parameters.html">https://docs.mosek.com/latest/pythonapi/parameters.html</a></li>
  <li>CPLEX parameters: <a href="https://www.ibm.com/docs/en/icos/12.7.1.0?topic=cplex-list-parameters">https://www.ibm.com/docs/en/icos/12.7.1.0?topic=cplex-list-parameters</a></li>
</ul>

<p>For example, the following code solves the problem using Gurobi, MOSEK, and CPLEX, respectively, with the relative MIP gap tolerance to be <code class="language-plaintext highlighter-rouge">1e-3</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">grb</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'MIPGap'</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">})</span>
<span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">msk</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'mioTolRelGap'</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">})</span>
<span class="n">model</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">cpx</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'mip.tolerances.mipgap'</span><span class="p">:</span> <span class="mf">1e-3</span><span class="p">})</span>
</code></pre></div></div>

<p>Once the optimization problem is solved, you may use the command <code class="language-plaintext highlighter-rouge">model.get()</code> to retrieve the optimal objective value. The optimal solution of the variable <code class="language-plaintext highlighter-rouge">x</code> can be attained as an array by calling <code class="language-plaintext highlighter-rouge">x.get()</code>. The <code class="language-plaintext highlighter-rouge">get()</code> method raises an error message if the optimization problem is unsolved, or the optimal solution cannot be found due to infeasibility, unboundedness, or numerical issues.</p>

<h2 id="application-examples-">Application Examples <a name="section1.4"></a></h2>

<h3 id="mean-variance-portfolio"><a href="example_mv_portfolio">Mean-Variance Portfolio</a></h3>
<h3 id="integer-programming-for-sudoku"><a href="example_sudoku">Integer Programming for Sudoku</a></h3>
<h3 id="optimal-dc-power-flow"><a href="example_opf">Optimal DC Power Flow</a></h3>
<h3 id="the-unit-commitment-problem"><a href="example_ucp">The Unit Commitment Problem</a></h3>
<h3 id="box-with-the-maximum-volume"><a href="example_max_volume_box">Box with the Maximum Volume</a></h3>
<h3 id="minimal-enclosing-ellipsoid"><a href="example_min_ellipsoid">Minimal Enclosing Ellipsoid</a></h3>

<h2 id="reference">Reference</h2>

<p><a id="ref1"></a></p>

<p>Chen, Zhi, Melvyn Sim, Peng Xiong. 2020. <a href="https://pubsonline.informs.org/doi/abs/10.1287/mnsc.2020.3603">Robust stochastic optimization made easy with RSOME</a>. <i>Management Science</i> <b>66</b>(8) 3329–3339.</p>


      </section>
      <footer>
        
        <p>Maintained by <a href="https://github.com/XiongPengNUS">XiongPengNUS</a></p>
        
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
  </body>
</html>
